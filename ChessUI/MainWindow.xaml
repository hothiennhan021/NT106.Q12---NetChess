<Window x:Class="ChessUI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ChessUI"
        mc:Ignorable="d"
        Title="Chess Game" Height="650" Width="900"
        WindowStartupLocation="CenterScreen"
        Background="#101010"
        Closing="Window_Closing">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="600"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <Viewbox Grid.Column="0" Margin="10">
            <Grid x:Name="BoardGrid" Width="600" Height="600" MouseDown="BoardGrid_MouseDown">
                <Grid.Background>
                    <ImageBrush ImageSource="pack://application:,,,/ChessUI;component/Assets/board.png"/>
                </Grid.Background>

                <UniformGrid x:Name="HighlightGrid" Rows="8" Columns="8"/>
                <UniformGrid x:Name="PieceGrid" Rows="8" Columns="8" RenderOptions.BitmapScalingMode="HighQuality"/>

                <ContentControl x:Name="MenuContainer"/>
            </Grid>
        </Viewbox>

        <Grid Grid.Column="1" Margin="10">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <StackPanel Grid.Row="0" Margin="0,0,0,20">
                <Border Background="#222" CornerRadius="5" Padding="10" Margin="0,0,0,5">
                    <StackPanel>
                        <TextBlock Text="ĐỐI THỦ" Foreground="Gray" HorizontalAlignment="Center"/>
                        <TextBlock x:Name="lblBlackTime" Text="10:00" Foreground="White" FontSize="24" FontWeight="Bold" HorizontalAlignment="Center"/>
                    </StackPanel>
                </Border>
                <Border Background="#222" CornerRadius="5" Padding="10">
                    <StackPanel>
                        <TextBlock Text="BẠN" Foreground="Gray" HorizontalAlignment="Center"/>
                        <TextBlock x:Name="lblWhiteTime" Text="10:00" Foreground="White" FontSize="24" FontWeight="Bold" HorizontalAlignment="Center"/>
                    </StackPanel>
                </Border>
            </StackPanel>

            <RichTextBox x:Name="txtChatHistory" Grid.Row="1" Background="#1A1A1A" BorderThickness="0" Foreground="White" IsReadOnly="True" VerticalScrollBarVisibility="Auto" Margin="0,0,0,10">
                <FlowDocument>
                    <Paragraph>
                        <Run Text="--- Bắt đầu trò chơi ---" Foreground="Gray" FontStyle="Italic"/>
                    </Paragraph>
                </FlowDocument>
            </RichTextBox>

            <Grid Grid.Row="2">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBox x:Name="txtChatInput" Grid.Column="0" Height="30" VerticalContentAlignment="Center" Background="#333" Foreground="White" BorderThickness="0" Padding="5" KeyDown="txtChatInput_KeyDown"/>
                <Button x:Name="btnSendChat" Grid.Column="1" Content="Gửi" Width="50" Height="30" Background="#444" Foreground="White" BorderThickness="0" Click="btnSendChat_Click"/>
            </Grid>
        </Grid>
    </Grid>
</Window>